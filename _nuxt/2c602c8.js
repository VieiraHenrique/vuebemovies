(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{229:function(e,t,n){"use strict";n.r(t);var r={},c=n(15),component=Object(c.a)(r,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"banner"},[t("div",{staticClass:"container"},[t("h2",[this._v("Welcome to the BeMovies library !")]),this._v(" "),t("h4",[this._v("Search, Explore and Bookmark your favourite movies")])])])}],!1,null,null,null);t.default=component.exports},230:function(e,t,n){"use strict";n.r(t);n(70),n(52),n(30),n(108),n(53),n(54);var r={props:["movies","genres"],data:function(){return{}},methods:{getYear:function(e){return e.slice(0,4)},getGenres:function(e,t){var n=e.genre_ids;return t.filter((function(e){if(n.includes(e.id))return e.name})).map((function(e){return e.name}))}}},c=n(15),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cards"},[n("div",{staticClass:"container"},e._l(e.movies,(function(t){return t.poster_path?n("nuxt-link",{key:t.id,staticClass:"card",attrs:{to:"/"+t.id}},[n("div",{staticClass:"card-front"},[n("img",{attrs:{src:"http://image.tmdb.org/t/p/w500/"+t.poster_path,alt:"front"}})]),e._v(" "),n("div",{staticClass:"card-back"},[n("h4",[e._v(e._s(t.title))]),e._v(" "),n("p",{staticClass:"date"},[e._v(e._s(e.getYear(t.release_date)))]),e._v(" "),e._l(e.getGenres(t,e.genres),(function(t){return n("p",{key:t},[e._v("\n          "+e._s(t)+"\n        ")])})),e._v(" "),n("h2",[e._v(e._s(t.vote_average)+" "),n("i",{staticClass:"fas fa-star"})])],2)]):e._e()})),1)])}),[],!1,null,null,null);t.default=component.exports},231:function(e,t,n){"use strict";n.r(t);var r={props:["page"],data:function(){return{}},methods:{prev:function(){this.$emit("prev")},next:function(){this.$emit("next")}}},c=n(15),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pages"},[n("i",{staticClass:"fas fa-chevron-left",on:{click:function(t){return e.prev()}}}),e._v(" "),n("p",[e._v(e._s(e.page))]),e._v(" "),n("i",{staticClass:"fas fa-chevron-right",on:{click:function(t){return e.next()}}})])}),[],!1,null,null,null);t.default=component.exports},232:function(e,t,n){"use strict";n.r(t);n(69);var r=n(103);var c=n(141);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n(37);var l,f,d=n(6),h=n(49),v=n.n(h),_=n(229),m=n(230),x=n(231),y={components:{Banner:_.default,Cards:m.default,Pages:x.default},data:function(){return{page:1,movies:[],genres:[],showPagination:!0}},methods:{prev:function(){this.page>1&&this.page--},next:function(){this.page<9&&this.page++},fetchFeatured:(f=Object(d.a)(regeneratorRuntime.mark((function e(){var t,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://api.themoviedb.org/3/discover/movie?api_key=112ca2b68890cedc6cd02c2b81593072&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=".concat(this.page));case 2:return t=e.sent,e.next=5,v.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=112ca2b68890cedc6cd02c2b81593072&language=en-US");case 5:g=e.sent,this.movies=o(t.data.results),this.genres=o(g.data.genres);case 8:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)}),fetchSearch:(l=Object(d.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://api.themoviedb.org/3/search/movie?api_key=112ca2b68890cedc6cd02c2b81593072&language=en-US&query=".concat(t,"&page=").concat(this.page,"&include_adult=false"));case 2:n=e.sent,this.movies=o(n.data.results);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},watch:{page:function(){this.fetchFeatured()}},created:function(){var e=this;this.fetchFeatured(),this.$nuxt.$on("featured",(function(){e.page=1,e.showPagination=!0,e.fetchFeatured()})),this.$nuxt.$on("searchMovie",(function(t){e.page=1,e.showPagination=!1,e.fetchSearch(t)}))}},w=n(15),component=Object(w.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("Banner"),e._v(" "),e.showPagination?n("Pages",{attrs:{page:e.page},on:{prev:function(t){return e.prev()},next:function(t){return e.next()}}}):e._e(),e._v(" "),n("Cards",{attrs:{movies:e.movies,genres:e.genres}}),e._v(" "),e.showPagination?n("Pages",{attrs:{page:e.page},on:{prev:function(t){return e.prev()},next:function(t){return e.next()}}}):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Banner:n(229).default,Pages:n(231).default,Cards:n(230).default})}}]);